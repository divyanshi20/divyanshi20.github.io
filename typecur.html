<!DOCTYPE html>
<html>
<head>
	<title>Types And Examples | CURSORS</title>
	<link rel="stylesheet" type="text/css" href="css/index.css">
  <link rel="stylesheet" type="text/css" href="css/basic.css">
  <link rel="icon" href="./image/icon1.png">
	<link href="https://fonts.googleapis.com/css2?family=Niconne&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Amiri:ital@1&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Yeseva+One&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@500&display=swap" rel="stylesheet">
	<style>
			body{
				 background-image:linear-gradient(rgba(0,0,0,0.1), rgba(0,0,0,0.1)),url(./image/bgmain4.jpg);
         background-attachment: fixed;
                 background-size: contain;
			}
	</style>
</head>
<body>
<div class="logo">
        	<a href="index.html"><img src="./image/connect database.png"></a>	
    </div>
    <nav>
        <label for="drop" class="toggle">Menu</label>
        <input type="checkbox" id="drop" />
            <ul class="menu">
                <li><a href="index.html">Home</a></li>
                <li>
                    <label for="drop-1" class="toggle">Triggers +</label>
                    <a href="#">Triggers</a>
                    <input type="checkbox" id="drop-1"/>
                    <ul>
                        <li><a href="trigbasic.html">Basic Definition</a></li>
                        <li><a href="syntrig.html">Syntax</a></li>
                       <li> <label for="drop-3" class="toggle">Deep learning +</label>
                    <a href="#">Deep learning</a>         
                    <input type="checkbox" id="drop-3"/>

                    <ul>
                        <li><a href="usetrig.html">Uses</a></li>
                        <li><a href="typetrig.html">Types And Example</a></li>
                        
                    </ul>
                </li>
                    </ul> 
                </li>
                <li>
                <label for="drop-2" class="toggle">Cursors +</label>
                <a href="#">Cursors</a>
                <input type="checkbox" id="drop-2"/>
                <ul>
                        <li><a href="curbasic.html">Basic Definition</a></li>
                        <li><a href="syncur.html">Syntax</a></li>
                       
                    <!-- Second Tier Drop Down -->        
                    <li><label for="drop-3" class="toggle">Deep learning +</label>
                    <a href="#">Deep learning</a>         
                    <input type="checkbox" id="drop-3"/>

                    <ul>
                        <li><a href="usecur.html">Uses</a></li>
                        <li><a href="typecur.html">Types And Example</a></li>
                        
                    </ul>
                    </li>
                </ul>
                </li>
                <li><a href="quiz.html">Quiz</a></li>
                <li><a href="about.html">About</a></li>

            </ul>
        </nav>
        <div class="container">
   <div class="row">
      <div class="neons col-12">
         <h7><em>CURSORS</em></h7>
      </div>
   </div>
</div>
<div class="content">
    <main>
        <div class="container">
   <div class="row">
      <div class="neons1 col-12">
         <h2><em>Types of Cursors</em></h2>
      </div>
   </div>
</div><br><br>
        <section><h4>There are two different types of cursors:</h4><br>
		1. Implicit Cursors &emsp;&emsp;2. Explicit Cursors</section></main></div>
      <br>
      <div class="content">
    <main>
		<div class="container">
   <div class="row">
      <div class="neons1 col-12">
         <h2><em>Explanation with examples</em></h2>
      </div>
   </div>
</div></main></div>
    <div class="content">
    <main>
		<section><div class="container">
   <div class="row">
      <div class="neons1 col-12">
         <h5><em>1. Implicit Cursors</em></h5>
      </div>
   </div>
</div><br><br>
Implicit cursors are automatically created whenever an SQL statement is executed, when there is no explicit cursor for the statement.
<br>Programmers cannot control the implicit cursors and the information in it.
<br>Whenever a DML statement (INSERT, UPDATE and DELETE) is issued, an implicit cursor is associated with this statement. 
<br>For INSERT operations, the cursor holds the data that needs to be inserted. For UPDATE and DELETE operations, the cursor identifies the rows that would be affected.
<br>In PL/SQL, we can refer to the most recent implicit cursor as the SQL cursor, which always has attributes such as %FOUND, %ISOPEN, %NOTFOUND, and %ROWCOUNT. 
<br>The SQL cursor has additional attributes, %BULK_ROWCOUNT and %BULK_EXCEPTIONS, designed for use with the FORALL statement. 
</section>
<br><br>
		<table>
        <tr>
            <th>No.</th>
            <th>Attribute Name</th>
            <th>Description</th>
        </tr>
        <tr>
            <td>1</td>
            <td>%FOUND</td>
            <td>Returns TRUE if an INSERT, UPDATE, or DELETE statement affected one or more rows or a SELECT INTO statement returned one or more rows. Otherwise, it returns FALSE.</td>
        </tr>
        <tr>
            <td>2</td>
            <td>%NOTFOUND</td>
            <td>The logical opposite of %FOUND. It returns TRUE if an INSERT, UPDATE, or DELETE statement affected no rows, or a SELECT INTO statement returned no rows. Otherwise, it returns FALSE.</td>
        </tr>
        <tr>
            <td>3</td>
            <td>%ISOPEN</td>
            <td>Always returns FALSE for implicit cursors, because Oracle closes the SQL cursor automatically after executing its associated SQL statement.</td>
        </tr>
        <tr>
            <td>4</td>
            <td>%ROWCOUNT</td>
            <td>Returns the number of rows affected by an INSERT, UPDATE, or DELETE statement, or returned by a SELECT INTO statement.</td>
        </tr>
    </table>
    <br><br>
    <h4>Example:</h4>
    <section>Consider a table clients:</section>
    <p class="boxed">
    	select * from clients;
        	<br>+----+------+-----+-----------+---------+ 
			<br>| ID | NAME     | AGE | ADDRESS &ensp;  | SALARY&emsp;| 
			<br>+----+------+-----+-----------+---------+ 
			<br>|  1&nbsp; | Raju     |  43&nbsp; | Ahemdabad |  2000.00 | 
			<br>|  2&nbsp; | Hari     |  24&nbsp; | Delhi&emsp;&emsp;&nbsp;|  1500.00 | 
			<br>|  3&nbsp; | Mani     |  33&nbsp; | Kota&emsp;&emsp;&ensp; |  2000.00 | 
			<br>+----+------+-----+-----------+---------+ 
        </p>
        <br><br>
        <section>The following program will update the table and increase the salary of each customer by 500 and use the SQL%ROWCOUNT attribute to determine the number of rows affected −</section>
        <br><br>
        <p class="boxed">
        	DECLARE  
   <br>&emsp;total_rows number(2); 
	<br>BEGIN 
   	<br>&emsp;UPDATE customers 
   	<br>&emsp;SET salary = salary + 500; 
   	<br>&emsp;IF sql%notfound THEN 
      	<br>&emsp;&emsp;dbms_output.put_line('no customers selected'); 
   	<br>&emsp;ELSIF sql%found THEN 
      	<br>&emsp;&emsp;total_rows := sql%rowcount;
      	<br>&emsp;&emsp;dbms_output.put_line( total_rows || ' customers selected '); 
   	<br>&emsp;END IF;  
	<br>END; 
/      </p>
<br><br>
<section>If we check the records in clients table, we will find that the rows have been updated −</section>
<br><br>
<p class="boxed">
	select * from clients;
	<br>+----+------+-----+-----------+---------+ 
			<br>| ID | NAME     | AGE | ADDRESS &ensp;  | SALARY&emsp;| 
			<br>+----+------+-----+-----------+---------+ 
			<br>|  1&nbsp; | Raju     |  43&nbsp; | Ahemdabad |  2500.00 | 
			<br>|  2&nbsp; | Hari     |  24&nbsp; | Delhi&emsp;&emsp;&nbsp;|  2000.00 | 
			<br>|  3&nbsp; | Mani     |  33&nbsp; | Kota&emsp;&emsp;&ensp; |  2500.00 | 
			<br>+----+------+-----+-----------+---------+ 
</p>
<br><br></main></div>
<div class="content">
    <main>
<section><div class="container">
   <div class="row">
      <div class="neons1 col-12">
         <h5><em>2. Explicit Cursors</em></h5>
      </div>
   </div>
</div><br><br>
Explicit cursors are programmer-defined cursors for gaining more control over the context area. An explicit cursor should be defined in the declaration section of the PL/SQL Block. It is created on a SELECT Statement which returns more than one row.
</section>
<h4>Example:</h4>
<br><br>
<p class="boxed">
	DECLARE 
   	<br>&emsp;c_id clients.id%type; 
   	<br>&emsp;c_name clients.name%type; 
   	<br>&emsp;c_addr clientss.address%type; 
   <br>CURSOR c_clients is 
      	<br>&emsp;SELECT id, name, address FROM clients; 
<br>BEGIN 
   	<br>&emsp;OPEN c_clients; 
   	<br>&emsp;LOOP 
   <br>&emsp;&emsp;FETCH c_clients into c_id, c_name, c_addr; 
      <br>&emsp;&emsp;EXIT WHEN c_clients%notfound; 
      <br>&emsp;&emsp;&emsp;dbms_output.put_line(c_id || ' ' || c_name || ' ' || c_addr); 
   <br>&emsp;END LOOP; 
   <br>&emsp;CLOSE c_clients; 
<br>END; 
/
</p>
<br>
<section>OUTPUT after the execution of this code:</section>
<p class="boxed">
	1 Raju Ahmedabad  
<br>2 Hari Delhi  
<br>3 Mani Kota   
</p>
</main>
</div>
<div class="content">
    <main>
<section><div class="container">
   <div class="row">
      <div class="neons1 col-12">
         <h2><em>Some More...</em></h2>
      </div>
   </div>
</div><br><br>Microsoft SQL Server supports the following 4 types of cursors.<br>
<div class="container">
   <div class="row">
      <div class="neons1 col-12">
         <h5><em>1. Static Cursor</em></h5>
      </div>
   </div>
</div>
<br><br>
A static cursor populates the result set during cursor creation and the query result is cached for the lifetime of the cursor. A static cursor can move forward and backward.<br><br>
<div class="container">
   <div class="row">
      <div class="neons1 col-12">
         <h5><em>2. Fast_Forward Cursor</em></h5>
      </div>
   </div>
</div>
<br><br>
This is the default type of cursor. It is identical to the static except that you can only scroll forward.<br><br>
<div class="container">
   <div class="row">
      <div class="neons1 col-12">
         <h5><em>3. Dynamic Cursor</em></h5>
      </div>
   </div>
</div>
<br><br>
In a dynamic cursor, additions and deletions are visible for others in the data source while the cursor is open.
<div class="container">
   <div class="row">
      <div class="neons1 col-12">
         <h5><em><b>4. Keyset Cursor</b></em></h5>
      </div>
   </div>
</div>
<br><br>
This is similar to a dynamic cursor except we can't see records others add. If another user deletes a record, it is inaccessible from our record set.
</section>
</main>
</div>
</body>
</html>